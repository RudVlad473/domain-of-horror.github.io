{"version":3,"file":"602.chunk.js","mappings":"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","sources":["webpack:///./src/components/CountryCard/CountryFeature/CountryFeature.tsx","webpack:///./src/helpers/functions/capitalizeFirstLetter.ts","webpack:///./src/helpers/functions/separateNumber.ts","webpack:///./src/helpers/functions/camelCaseToNormal.ts","webpack:///./src/helpers/functions/constructCountryDetailsUrl.ts","webpack:///./src/helpers/functions/getNthWord.ts","webpack:///./src/pages/CountryDetails/CookCountries/cookCountryDetails.ts","webpack:///./src/helpers/functions/objectToString.ts","webpack:///./src/pages/CountryDetails/Details/Details.tsx","webpack:///./src/pages/CountryDetails/Details/LoadingBorder.tsx","webpack:///./src/components/CountryCard/CountryCard.module.scss?2ed1","webpack:///./src/pages/CountryDetails/CountryDetails.module.scss?79f6"],"sourcesContent":["import React, { FC } from \"react\"\r\nimport styles from \"../CountryCard.module.scss\"\r\nimport capitalizeFirstLetter from \"../../../helpers/functions/capitalizeFirstLetter\"\r\nimport ICountryFeature from \"./ICountryFeature\"\r\n\r\nconst CountryFeature: FC<ICountryFeature> = ({ feature, ...props }) => {\r\n    return (\r\n        <span style={{ display: \"block\" }}>\r\n            <span className={styles.attribute}>\r\n                {capitalizeFirstLetter(feature)}:\r\n            </span>\r\n\r\n            <span> {props.children || \"None\"}</span>\r\n        </span>\r\n    )\r\n}\r\n\r\nexport default CountryFeature\r\n","export default function capitalizeFirstLetter(str: string): string {\r\n    return str[0].toUpperCase() + str.slice(1)\r\n}\r\n","export default function separateNumber(number: number): string {\r\n    //81770900 ==> 81,770,900\r\n    //206135893 ==> 206,135,893\r\n\r\n    //44700000 ==> 44,700,000\r\n    //28875 ==> 28,875\r\n\r\n    return splitNumberByRanks(number).join(\",\")\r\n\r\n    function splitNumberByRanks(n: number): string[] {\r\n        const numPieces: string[] = []\r\n        for (let i = 10 ** 3; n / i >= 1; n = (n / i) | 0) {\r\n            const numPiece = (n % i).toString()\r\n            numPieces.unshift(numPiece + \"0\".repeat(3 - numPiece.length))\r\n        }\r\n        numPieces.unshift(n.toString())\r\n\r\n        return numPieces\r\n    }\r\n}\r\n","function camelCaseToNormal(camelCaseStr: string): string {\r\n    return camelCaseStr.replace(/([a-z])([A-Z])/g, \"$1 $2\")\r\n}\r\n\r\nexport default camelCaseToNormal\r\n","function constructCountryDetailsUrl(countryNameFirstWord?: string): string {\r\n    return `https://restcountries.com/v2/name/${countryNameFirstWord}?fields=name,capital,region,population,flag,borders,topLevelDomain,nativeName,subregion,currencies,languages`\r\n}\r\n\r\nexport default constructCountryDetailsUrl\r\n","function getNthWord(str: string, wordIndex: number = 0): string | undefined {\r\n    return str.split(/(\\s)|(-)/).at(wordIndex)\r\n}\r\n\r\nexport default getNthWord\r\n","import ICountryDetails from \"../ICountryDetails\"\r\nimport objectToString from \"../../../helpers/functions/objectToString\"\r\nimport ICookedDetails from \"./ICookedCountries\"\r\nimport separateNumber from \"../../../helpers/functions/separateNumber\"\r\n\r\nfunction cookCountryDetails({\r\n    name,\r\n    topLevelDomain,\r\n    capital,\r\n    subregion,\r\n    region,\r\n    population,\r\n    borders,\r\n    nativeName,\r\n    currencies,\r\n    languages,\r\n    flag,\r\n}: ICountryDetails): Readonly<ICookedDetails> {\r\n    return Object.freeze({\r\n        name,\r\n        topLevelDomain: objectToString(topLevelDomain),\r\n        capital,\r\n        subregion,\r\n        region,\r\n        population: separateNumber(population),\r\n        borders,\r\n        nativeName,\r\n        currencies: currencies.map((currency) => currency.name).join(\", \"),\r\n        languages: languages.map((language) => language.name).join(\", \"),\r\n        flag,\r\n    })\r\n}\r\n\r\nexport default cookCountryDetails\r\n","function objectToString(obj: Array<any> | Object) {\r\n    return obj instanceof Object ? Object.values(obj).join(\", \") : obj\r\n}\r\n\r\nexport default objectToString\r\n","import React, { FC, Suspense, useEffect, useMemo, useState } from \"react\"\r\nimport CountryFeature from \"../../../components/CountryCard/CountryFeature/CountryFeature\"\r\nimport styles from \"../CountryDetails.module.scss\"\r\nimport { LazyLoadImage } from \"react-lazy-load-image-component\"\r\nimport ICookedDetails from \"../CookCountries/ICookedCountries\"\r\nimport camelCaseToNormal from \"../../../helpers/functions/camelCaseToNormal\"\r\n// import BorderCountry from \"./BorderCountry\"\r\nconst BorderCountry = React.lazy(() => import(\"./BorderCountry\"))\r\nimport constructCountryDetailsUrl from \"../../../helpers/functions/constructCountryDetailsUrl\"\r\nimport getNthWord from \"../../../helpers/functions/getNthWord\"\r\nimport axios from \"axios\"\r\nimport ICountryDetails, { ICountryParams } from \"../ICountryDetails\"\r\nimport cookCountryDetails from \"../CookCountries/cookCountryDetails\"\r\nimport Loading from \"../../../components/UI/Loading/Loading\"\r\nimport LoadingBorder from \"./LoadingBorder\"\r\nimport { Params } from \"react-router\"\r\n\r\nconst Details: FC = ({ params }) => {\r\n    const { name } = params\r\n\r\n    const [cookedCountryDetails, setCookedCountryDetails] =\r\n        useState<ICookedDetails>()\r\n\r\n    const isLoading = useMemo(() => {\r\n        return cookedCountryDetails === undefined\r\n    }, [cookedCountryDetails])\r\n\r\n    useEffect(() => {\r\n        fetchDetails()\r\n    }, [params])\r\n\r\n    async function fetchDetails(): Promise<void> {\r\n        const url = constructCountryDetailsUrl(getNthWord(name as string))\r\n\r\n        const { data: details } = await axios.get<ICountryDetails[]>(url)\r\n\r\n        let currentDetails: ICountryDetails | undefined\r\n\r\n        // if (details.length > 1) {\r\n\r\n        // } else {\r\n        //     currentDetails = details[0]\r\n        // }\r\n        //TODO: Реализовать случай, когда приходит несколько стран\r\n\r\n        currentDetails = details[0]\r\n        setCookedCountryDetails(cookCountryDetails(currentDetails!))\r\n    }\r\n\r\n    return isLoading ? (\r\n        <Loading />\r\n    ) : (\r\n        <div\r\n            className={`d-flex flex-column flex-sm-row align-items-center ${styles[\"details\"]}`}>\r\n            <div className={styles[\"details__header\"]}>\r\n                <img\r\n                    src={cookedCountryDetails?.flag}\r\n                    alt=\"Country flag\"\r\n                    className={`shadow-lg ${styles[\"details__header__img\"]}`}\r\n                />\r\n            </div>\r\n            <div\r\n                className={`d-flex flex-column justify-content-between ${styles[\"details__body\"]}`}>\r\n                <header className={styles[\"details__body__header\"]}>\r\n                    {cookedCountryDetails?.name}\r\n                </header>\r\n                <article className={`${styles[\"details__body__content\"]}`}>\r\n                    {Object.keys(cookedCountryDetails as Object)\r\n                        .filter((i) => !i.match(/(flag)|(name)|(borders)/i))\r\n                        .sort((a, b) => {\r\n                            return (\r\n                                cookedCountryDetails[b]?.length + b.length <\r\n                                cookedCountryDetails[a]?.length + a.length\r\n                            )\r\n                        })\r\n                        .map((prop: string) => (\r\n                            <CountryFeature\r\n                                key={prop}\r\n                                feature={camelCaseToNormal(prop)}>\r\n                                {cookedCountryDetails[prop]}\r\n                            </CountryFeature>\r\n                        ))}\r\n                </article>\r\n                <footer\r\n                    className={`d-flex flex-wrap align-items-center gap-2\r\n                    ${styles[\"details__footer\"]}`}>\r\n                    <span className={`${styles[\"details__footer__title\"]}`}>\r\n                        Border Countries:&nbsp;\r\n                    </span>\r\n                    {cookedCountryDetails.borders?.map((border) => (\r\n                        <Suspense fallback={<LoadingBorder />}>\r\n                            <BorderCountry\r\n                                key={border}\r\n                                countryCode={border}\r\n                            />\r\n                        </Suspense>\r\n                    )) || \"None\"}\r\n                </footer>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Details\r\n","import React from \"react\"\r\nimport styles from \"../CountryDetails.module.scss\"\r\n\r\nconst LoadingBorder = () => {\r\n    return (\r\n        <span\r\n            className={`shadow-sm ${styles[\"details__footer__item\"]} \r\n            ${styles[\"gradient\"]}`}>\r\n            Lorem ipsum\r\n        </span>\r\n    )\r\n}\r\n\r\nexport default LoadingBorder\r\n","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"_mIESs6x4bmN8T_bV24N\",\"active\":\"x2UMtOkO5Z23cyJYWIhY\",\"img\":\"X6y3R94hsNQ6Sd9Jj75w\",\"header\":\"jKPa9VCwA1LTwiv_RAei\",\"attribute\":\"pZXbB86KrhhRNHmg5gCp\",\"value\":\"zl8IYhRRl09_JwgB7lg7\"};","// extracted by mini-css-extract-plugin\nexport default {\"details\":\"l1hkjxGozYpPDOquZTu5\",\"details__header\":\"uHWZx0_N68PlhyFyniTJ\",\"details__body\":\"J1AaLm9UupSYsBVQMKFe\",\"details__header__img\":\"fdC9kqtrew_OtAJhHy2E\",\"details__body__header\":\"ut1kaPqA25XpqnGpNx2C\",\"details__body__content\":\"Kilpl5U1iXXsRapH_o2I\",\"details__footer\":\"KMNecxmu210OftvbPF7z\",\"details__footer__title\":\"ea5ixzkMI1eTkMC92VBb\",\"details__footer__item\":\"IkDrnysIoUoJLT1gYhBV\",\"gradient\":\"bpil0zatx32ix2qOoL4O\",\"placeHolderShimmer\":\"YIGpzAVkefKduWEt2yxM\"};"],"names":["feature","props","style","display","className","styles","capitalizeFirstLetter","children","str","toUpperCase","slice","separateNumber","number","n","numPieces","i","numPiece","toString","unshift","repeat","length","splitNumberByRanks","join","countryNameFirstWord","wordIndex","split","at","obj","name","topLevelDomain","capital","subregion","region","population","borders","nativeName","currencies","languages","flag","Object","freeze","values","map","currency","language","BorderCountry","React","params","useState","cookedCountryDetails","setCookedCountryDetails","isLoading","useMemo","undefined","url","constructCountryDetailsUrl","getNthWord","axios","details","data","currentDetails","cookCountryDetails","useEffect","fetchDetails","Loading","src","alt","keys","filter","match","sort","a","b","prop","CountryFeature","key","camelCaseStr","replace","border","Suspense","fallback","LoadingBorder","countryCode"],"sourceRoot":""}