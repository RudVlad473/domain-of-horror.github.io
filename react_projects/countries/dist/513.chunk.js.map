{"version":3,"file":"513.chunk.js","mappings":"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","sources":["webpack:///./src/components/CountryCard/CountryFeature.tsx","webpack:///./src/helpers/functions/capitalizeFirstLetter.ts","webpack:///./src/helpers/functions/separateNumber.ts","webpack:///./src/helpers/functions/strToUrl.ts","webpack:///./src/pages/CountryDetails/CountryDetails.module.scss?79f6","webpack:///./src/helpers/functions/constructCountryNameUrl.ts","webpack:///./src/pages/CountryDetails/Details/LoadingBorder.tsx","webpack:///./src/pages/CountryDetails/Details/BorderCountry.tsx","webpack:///./src/helpers/functions/constructCountryDetailsUrl.ts","webpack:///./src/helpers/functions/getNthWord.ts","webpack:///./src/pages/CountryDetails/CookCountries/cookCountryDetails.ts","webpack:///./src/helpers/functions/objectToString.ts","webpack:///./src/pages/CountryDetails/Details/Details.tsx","webpack:///./src/helpers/functions/camelCaseToNormal.ts","webpack:///./src/components/CountryCard/CountryCard.module.scss?2ed1"],"sourcesContent":["import React, { FC } from \"react\"\r\nimport styles from \"./CountryCard.module.scss\"\r\nimport capitalizeFirstLetter from \"../../helpers/functions/capitalizeFirstLetter\"\r\n\r\nconst CountryFeature = ({ feature, ...props }: { feature: string }) => {\r\n    return (\r\n        <div>\r\n            <span className={styles.attribute}>\r\n                {capitalizeFirstLetter(feature)}:\r\n            </span>\r\n            <span> {props.children || \"None\"}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CountryFeature\r\n","export default function capitalizeFirstLetter(str: string): string {\r\n    return str[0].toUpperCase() + str.slice(1)\r\n}\r\n","export default function separateNumber(number: number): string {\r\n    //81770900 ==> 81,770,900\r\n    //206135893 ==> 206,135,893\r\n\r\n    //44700000 ==> 44,700,000\r\n    //28875 ==> 28,875\r\n\r\n    return splitNumberByRanks(number).join(\",\")\r\n\r\n    function splitNumberByRanks(n: number): string[] {\r\n        const numPieces: string[] = []\r\n        for (let i = 10 ** 3; n / i >= 1; n = (n / i) | 0) {\r\n            const numPiece = (n % i).toString()\r\n            numPieces.unshift(numPiece + \"0\".repeat(3 - numPiece.length))\r\n        }\r\n        numPieces.unshift(n.toString())\r\n\r\n        return numPieces\r\n    }\r\n}\r\n","function strToUrl(str: string): string {\r\n    return str.split(/\\s/).join(\"-\")\r\n}\r\n\r\nexport default strToUrl\r\n","// extracted by mini-css-extract-plugin\nexport default {\"details\":\"l1hkjxGozYpPDOquZTu5\",\"details__header\":\"uHWZx0_N68PlhyFyniTJ\",\"details__body\":\"J1AaLm9UupSYsBVQMKFe\",\"details__body__header\":\"ut1kaPqA25XpqnGpNx2C\",\"details__body__content\":\"Kilpl5U1iXXsRapH_o2I\",\"details__footer\":\"KMNecxmu210OftvbPF7z\",\"details__footer__title\":\"ea5ixzkMI1eTkMC92VBb\",\"details__footer__item\":\"IkDrnysIoUoJLT1gYhBV\",\"gradient\":\"bpil0zatx32ix2qOoL4O\",\"placeHolderShimmer\":\"YIGpzAVkefKduWEt2yxM\"};","function constructCountryNameUrl(countryCode) {\r\n    return `https://restcountries.com/v2/alpha/${countryCode}?fields=name`\r\n}\r\n\r\nexport default constructCountryNameUrl\r\n","import React from \"react\"\r\nimport styles from \"../CountryDetails.module.scss\"\r\n\r\nconst LoadingBorder = () => {\r\n    return (\r\n        <span\r\n            className={`shadow-sm ${styles[\"details__footer__item\"]} \r\n            ${styles[\"gradient\"]}`}>\r\n            Lorem ipsum\r\n        </span>\r\n    )\r\n}\r\n\r\nexport default LoadingBorder\r\n","import axios from \"axios\"\r\nimport React, { useEffect, useMemo, useState } from \"react\"\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport constructCountryNameUrl from \"../../../helpers/functions/constructCountryNameUrl\"\r\nimport strToUrl from \"../../../helpers/functions/strToUrl\"\r\nimport styles from \"../CountryDetails.module.scss\"\r\nimport LoadingBorder from \"./LoadingBorder\"\r\n\r\nconst BorderCountry = ({ countryCode }: { countryCode: string }) => {\r\n    const [countryName, setCountryName] = useState<string>(\"\")\r\n    const isLoading = useMemo(() => {\r\n        return countryName === \"\"\r\n    }, [countryName])\r\n    const navigate = useNavigate()\r\n\r\n    async function fetchCountryName() {\r\n        const nameUrl = constructCountryNameUrl(countryCode)\r\n\r\n        const { data } = await axios.get<Object>(nameUrl)\r\n\r\n        setCountryName( data[\"name\"])\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchCountryName()\r\n    }, [])\r\n\r\n    return isLoading ? (\r\n        <LoadingBorder />\r\n    ) : (\r\n        <span\r\n            className={`shadow-sm ${styles[\"details__footer__item\"]}`}\r\n            onClick={() => {\r\n                navigate(`/${strToUrl(countryName.toLowerCase())}`)\r\n            }}>\r\n            {countryName}\r\n        </span>\r\n    )\r\n}\r\n\r\nexport default BorderCountry\r\n","function constructCountryDetailsUrl(countryNameFirstWord?: string): string {\r\n    return `https://restcountries.com/v2/name/${countryNameFirstWord}?fields=name,capital,region,population,flag,borders,topLevelDomain,nativeName,subregion,currencies,languages`\r\n}\r\n\r\nexport default constructCountryDetailsUrl\r\n","function getNthWord(str: string, wordIndex: number = 0): string | undefined {\r\n    return str.split(/(\\s)|(-)/).at(wordIndex)\r\n}\r\n\r\nexport default getNthWord\r\n","import ICountryDetails from \"../ICountryDetails\"\r\nimport objectToString from \"../../../helpers/functions/objectToString\"\r\nimport ICookedDetails from \"./ICookedCountries\"\r\nimport separateNumber from \"../../../helpers/functions/separateNumber\"\r\n\r\nfunction cookCountryDetails({\r\n    name,\r\n    topLevelDomain,\r\n    capital,\r\n    subregion,\r\n    region,\r\n    population,\r\n    borders,\r\n    nativeName,\r\n    currencies,\r\n    languages,\r\n    flag,\r\n}: ICountryDetails): Readonly<ICookedDetails> {\r\n    return Object.freeze({\r\n        name,\r\n        topLevelDomain: objectToString(topLevelDomain),\r\n        capital,\r\n        subregion,\r\n        region,\r\n        population: separateNumber(population),\r\n        borders,\r\n        nativeName,\r\n        currencies: currencies.map((currency) => currency.name).join(\", \"),\r\n        languages: languages.map((language) => language.name).join(\", \"),\r\n        flag,\r\n    })\r\n}\r\n\r\nexport default cookCountryDetails\r\n","function objectToString(obj: Array<any> | Object) {\r\n    return obj instanceof Object ? Object.values(obj).join(\", \") : obj\r\n}\r\n\r\nexport default objectToString\r\n","import React, { useEffect, useMemo, useState } from \"react\"\r\nimport CountryFeature from \"../../../components/CountryCard/CountryFeature\"\r\nimport styles from \"../CountryDetails.module.scss\"\r\nimport { LazyLoadImage } from \"react-lazy-load-image-component\"\r\nimport ICookedDetails from \"../CookCountries/ICookedCountries\"\r\nimport camelCaseToNormal from \"../../../helpers/functions/camelCaseToNormal\"\r\nimport BorderCountry from \"./BorderCountry\"\r\nimport constructCountryDetailsUrl from \"../../../helpers/functions/constructCountryDetailsUrl\"\r\nimport getNthWord from \"../../../helpers/functions/getNthWord\"\r\nimport axios from \"axios\"\r\nimport ICountryDetails from \"../ICountryDetails\"\r\nimport cookCountryDetails from \"../CookCountries/cookCountryDetails\"\r\nimport Loading from \"../../../components/UI/Loading/Loading\"\r\n\r\nconst Details = ({ params }) => {\r\n    const { name } = params\r\n\r\n    const [cookedCountryDetails, setCookedCountryDetails] =\r\n        useState<ICookedDetails>()\r\n\r\n    const isLoading = useMemo(() => {\r\n        return cookedCountryDetails === undefined\r\n    }, [cookedCountryDetails])\r\n\r\n    useEffect(() => {\r\n        fetchDetails()\r\n    }, [params])\r\n\r\n    async function fetchDetails(): Promise<void> {\r\n        const url = constructCountryDetailsUrl(getNthWord(name as string))\r\n\r\n        const { data: details } = await axios.get<ICountryDetails[]>(url)\r\n\r\n        let currentDetails: ICountryDetails | undefined\r\n\r\n        // if (details.length > 1) {\r\n\r\n        // } else {\r\n        //     currentDetails = details[0]\r\n        // }\r\n        //TODO: Реализовать случай, когда приходит несколько стран\r\n\r\n        currentDetails = details[0]\r\n        setCookedCountryDetails(cookCountryDetails(currentDetails))\r\n    }\r\n\r\n    return isLoading ? (\r\n        <Loading />\r\n    ) : (\r\n        <div\r\n            className={`d-flex flex-column flex-sm-row align-items-center ${styles[\"details\"]}`}>\r\n            <div className={styles[\"details__header\"]}>\r\n                <LazyLoadImage\r\n                    src={cookedCountryDetails?.flag}\r\n                    alt=\"Country flag\"\r\n                    className={`shadow-lg ${styles[\"details__header__img\"]}`}\r\n                />\r\n            </div>\r\n            <div\r\n                className={`d-flex flex-column justify-content-between ${styles[\"details__body\"]}`}>\r\n                <header className={styles[\"details__body__header\"]}>\r\n                    {cookedCountryDetails?.name}\r\n                </header>\r\n                <article className={`${styles[\"details__body__content\"]}`}>\r\n                    {Object.keys(cookedCountryDetails)\r\n                        .filter((i) => !i.match(/(flag)|(name)|(borders)/i))\r\n                        .sort()\r\n                        .map((prop: string) => (\r\n                            <CountryFeature\r\n                                key={prop}\r\n                                feature={camelCaseToNormal(prop)}>\r\n                                {cookedCountryDetails[prop]}\r\n                            </CountryFeature>\r\n                        ))}\r\n                </article>\r\n                <footer\r\n                    className={`d-flex flex-wrap align-items-center gap-2\r\n                    ${styles[\"details__footer\"]}`}>\r\n                    <span className={`${styles[\"details__footer__title\"]}`}>\r\n                        Border Countries:&nbsp;\r\n                    </span>\r\n                    {cookedCountryDetails.borders?.map((border) => (\r\n                        <BorderCountry\r\n                            key={border}\r\n                            countryCode={border}\r\n                        />\r\n                    )) || \"None\"}\r\n                </footer>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Details\r\n","function camelCaseToNormal(camelCaseStr: string): string {\r\n    return camelCaseStr.replace(/([a-z])([A-Z])/g, \"$1 $2\")\r\n}\r\n\r\nexport default camelCaseToNormal\r\n","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"_mIESs6x4bmN8T_bV24N\",\"active\":\"x2UMtOkO5Z23cyJYWIhY\",\"img\":\"X6y3R94hsNQ6Sd9Jj75w\",\"header\":\"jKPa9VCwA1LTwiv_RAei\",\"attribute\":\"pZXbB86KrhhRNHmg5gCp\",\"value\":\"zl8IYhRRl09_JwgB7lg7\"};"],"names":["feature","props","className","styles","capitalizeFirstLetter","children","str","toUpperCase","slice","separateNumber","number","n","numPieces","i","numPiece","toString","unshift","repeat","length","splitNumberByRanks","join","split","countryCode","useState","countryName","setCountryName","isLoading","useMemo","navigate","useNavigate","nameUrl","constructCountryNameUrl","axios","data","useEffect","fetchCountryName","onClick","strToUrl","toLowerCase","countryNameFirstWord","wordIndex","at","obj","name","topLevelDomain","capital","subregion","region","population","borders","nativeName","currencies","languages","flag","Object","freeze","values","map","currency","language","params","cookedCountryDetails","setCookedCountryDetails","undefined","url","constructCountryDetailsUrl","getNthWord","details","currentDetails","cookCountryDetails","fetchDetails","Loading","LazyLoadImage","src","alt","keys","filter","match","sort","prop","CountryFeature","key","camelCaseStr","replace","border"],"sourceRoot":""}