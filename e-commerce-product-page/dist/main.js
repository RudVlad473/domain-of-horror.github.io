(()=>{var e={465:(e,t,r)=>{var n=document.querySelector(".mobile-sidebar"),i=document.querySelector(".overlay"),a=document.querySelector(".humburger");a.addEventListener("click",function(e,t,n){e.classList.toggle("active"),n.classList.toggle("toggled"),t.getAttribute("src").includes("menu")?t.setAttribute("src",r(909)):t.setAttribute("src",r(716))}.bind(null,n,a,i))},91:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},909:(e,t,r)=>{"use strict";e.exports=r.p+"./images/icon-close.svg"},716:(e,t,r)=>{"use strict";e.exports=r.p+"./images/icon-menu.svg"},670:(e,t,r)=>{"use strict";e.exports=r.p+"./images/icon-next.svg"},834:(e,t,r)=>{"use strict";e.exports=r.p+"./images/icon-previous.svg"},851:(e,t,r)=>{"use strict";e.exports=r.p+"./images/image-avatar.png"},714:(e,t,r)=>{"use strict";e.exports=r.p+"./images/image-product-1-thumbnail.jpg"},881:(e,t,r)=>{"use strict";e.exports=r.p+"./images/image-product-1.jpg"},378:(e,t,r)=>{"use strict";e.exports=r.p+"./images/image-product-2-thumbnail.jpg"},643:(e,t,r)=>{"use strict";e.exports=r.p+"./images/image-product-2.jpg"},266:(e,t,r)=>{"use strict";e.exports=r.p+"./images/image-product-3-thumbnail.jpg"},90:(e,t,r)=>{"use strict";e.exports=r.p+"./images/image-product-3.jpg"},569:(e,t,r)=>{"use strict";e.exports=r.p+"./images/image-product-4-thumbnail.jpg"},995:(e,t,r)=>{"use strict";e.exports=r.p+"./images/image-product-4.jpg"},937:(e,t,r)=>{"use strict";e.exports=r.p+"./images/logo.svg"}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),r.b=document.baseURI||self.location.href,(()=>{"use strict";var e=r(91),t=r.n(e),n=new URL(r(716),r.b),i=new URL(r(937),r.b),a=new URL(r(851),r.b),s=new URL(r(834),r.b),c=new URL(r(670),r.b),l=new URL(r(881),r.b),o=new URL(r(714),r.b),u=new URL(r(378),r.b),d=new URL(r(266),r.b),g=new URL(r(569),r.b);function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}t()(n),t()(i),t()(a),t()(s),t()(c),t()(l),t()(o),t()(u),t()(d),t()(g);var m=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.counter=t,this.counterPlus=this.counter.querySelector(".counter__plus"),this.counterMinus=this.counter.querySelector(".counter__minus"),this.minValue=1,this.maxValue=100,this.counterPlus.addEventListener("click",(function(){return r.increment()})),this.counterMinus.addEventListener("click",(function(){return r.decrement()}))}var t,r;return t=e,(r=[{key:"increment",value:function(){var e=this.getDOMvalue();return+e.innerHTML<this.maxValue&&++e.innerHTML}},{key:"decrement",value:function(){var e=this.getDOMvalue();return+e.innerHTML>this.minValue&&--e.innerHTML}},{key:"getDOMvalue",value:function(){return this.counter.querySelector(".counter__value")}},{key:"getParseIntValue",value:function(){return+this.counter.querySelector(".counter__value").innerHTML}}])&&h(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(){function e(t,r){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_(this,e),f(this,"slideRight",(function(e){var t=n.orderedPicturesUrlsList,r=n.featured,i=Math.abs(--r.index%t.length),a=t[i],s=n.orderedPicturesUrlsList.indexOf(r.value.querySelector(".gallery__featured__img").getAttribute("src"));r.value.querySelector(".gallery__featured__img").setAttribute("src",a),e.makeSelected(i,s)})),f(this,"slideLeft",(function(e){var t=n.orderedPicturesUrlsList,r=n.featured,i=Math.abs(++r.index%t.length),a=t[i],s=null;n.orderedPicturesUrlsList.forEach((function(e,t){e.includes(r.value.querySelector(".gallery__featured__img").getAttribute("src"))&&(s=t)})),r.value.querySelector(".gallery__featured__img").setAttribute("src",a),e.makeSelected(i,s)})),f(this,"setFeaturedImg",(function(e){if(e<0||e>=n.orderedPicturesUrlsList.length)throw new Error("Picture with such index does not exist.");var t=n.orderedPicturesUrlsList,r=n.featured,i=t[e],a=r.index;return r.value.querySelector(".gallery__featured__img").setAttribute("src",i),r.index=e,a})),this.gallery=t,this.featured={value:this.gallery.querySelector(".gallery__featured"),index:0},this.orderedPicturesUrlsList=r,this.leftSwipe=this.featured.value.querySelector(".gallery__featured__sliders__left-slider"),this.rightSwipe=this.featured.value.querySelector(".gallery__featured__sliders__right-slider"),this.leftSwipe.addEventListener("click",this.slideLeft.bind(this,i)),this.rightSwipe.addEventListener("click",this.slideRight.bind(this,i))}var t,r;return t=e,(r=[{key:"getFeaturedImgUrl",value:function(){return this.featured.value.querySelector(".gallery__featured__img").getAttribute("src")}}])&&v(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var y=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gallery=r,this.thumbnails=t,this.thumbnails.forEach((function(e,t){e.addEventListener("click",(function(){var e,r=null===(e=n.gallery)||void 0===e?void 0:e.setFeaturedImg(t);n.makeSelected(t,r)}))}))}var t,r;return t=e,(r=[{key:"makeSelected",value:function(e,t){this.thumbnails[t].classList.remove("gallery__thumbnails__thumbnail--selected"),this.thumbnails[e].classList.add("gallery__thumbnails__thumbnail--selected")}}])&&b(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e){for(var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=3735928559^r,i=1103547991^r,a=0;a<e.length;a++)t=e.charCodeAt(a),n=Math.imul(n^t,2654435761),i=Math.imul(i^t,1597334677);return n=Math.imul(n^n>>>16,2246822507)^Math.imul(i^i>>>13,3266489909),4294967296*(2097151&(i=Math.imul(i^i>>>16,2246822507)^Math.imul(n^n>>>13,3266489909)))+(n>>>0)}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cart=t,this.DOMitems=this.cart.querySelector(".cart__content"),this.DOMbadge=this.cart.querySelector(".cart__badge"),this.currentIds=[],this.cart.querySelector("svg").addEventListener("click",this.toggleCart.bind(this)),this.cart.querySelector(".cart__content__cart__close").addEventListener("click",this.toggleCart.bind(this)),this.cart.addEventListener("dblclick",this.toggleCart.bind(this)),this.loadItemsFromLocalStorage()}var t,r;return t=e,r=[{key:"getAllItems",value:function(){return this.DOMitems.querySelectorAll(".cart__content__item")}},{key:"addItem",value:function(e){var t=e.thumbnailUrl,r=e.title,n=e.unitPrice,i=e.amount,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this.getAllItems(),c=S(t+r+n),l=this.constructNewHtmlItem(t,r,n,i,c);a&&this.addItemToLocalStorage({thumbnailUrl:t,title:r,unitPrice:n,amount:i},c),this.currentIds.indexOf(c)||this.currentIds.push(c);var o=this.getExistingItem(c,s);if(null!==this.getExistingItem(c,s))return this.updateAmountOfExistingItem(o,i,n),void this.appendBadge(i);var u=l.querySelector(".cart__content__item__delete");if(this.addClickListenerToDOMobject(u,this.removeItem.bind(this,c)),s.length>0)s[s.length-1].after(l);else{var d=this.DOMitems.querySelector(".cart__content__cart");d.after(l)}this.appendBadge(i)}},{key:"constructNewHtmlItem",value:function(e,t,r,n,i){var a='\n                <div id="'.concat(i,'" class="cart__content__item">\n                    <div class="cart__content__item__thumbnail">\n                        <img src="').concat(e,'" alt="thumbnail">\n                    </div>\n                    <div class="cart__content__item__desc">\n                        <div class="cart__content__item__desc__title">\n                            ').concat(t,'\n                        </div>\n                        <div class="cart__content__item__desc__price">\n                            <span class="cart__content__item__desc__price__amount">\n                                ').concat("$"+r," x ").concat(n,'\n                            </span>\n                            <span>&nbsp;&nbsp;</span>\n                            <span class="cart__content__item__desc__price__sum">\n                                ').concat("$"+(r*n).toFixed(2),'\n                            </span>\n                        </div>\n                    </div>\n                    <div class="cart__content__item__delete">\n                        <svg width="14" height="16" xmlns="http://www.w3.org/2000/svg"\n                            xmlns:xlink="http://www.w3.org/1999/xlink">\n                            <defs>\n                                <path\n                                    d="M0 2.625V1.75C0 1.334.334 1 .75 1h3.5l.294-.584A.741.741 0 0 1 5.213 0h3.571a.75.75 0 0 1 .672.416L9.75 1h3.5c.416 0 .75.334.75.75v.875a.376.376 0 0 1-.375.375H.375A.376.376 0 0 1 0 2.625Zm13 1.75V14.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 1 14.5V4.375C1 4.169 1.169 4 1.375 4h11.25c.206 0 .375.169.375.375ZM4.5 6.5c0-.275-.225-.5-.5-.5s-.5.225-.5.5v7c0 .275.225.5.5.5s.5-.225.5-.5v-7Zm3 0c0-.275-.225-.5-.5-.5s-.5.225-.5.5v7c0 .275.225.5.5.5s.5-.225.5-.5v-7Zm3 0c0-.275-.225-.5-.5-.5s-.5.225-.5.5v7c0 .275.225.5.5.5s.5-.225.5-.5v-7Z"\n                                    id="a" />\n                            </defs>\n                            <use fill="#C3CAD9" fill-rule="nonzero" xlink:href="#a" />\n                        </svg>\n                    </div>\n                </div>\n                ');return document.createRange().createContextualFragment(a)}},{key:"removeItem",value:function(e){var t=this.getAllItems(),r=this.getExistingItem(e,t);if(null===r)throw new Error("Item with such id does not exist");r.remove(),this.removeItemFromLocalStorage(e),this.currentIds.splice(this.currentIds.indexOf(e),1);var n=r.querySelector(".cart__content__item__desc__price__amount").innerHTML.trim().split(" ").at(-1);this.decreaseBadge(n)}},{key:"getExistingItem",value:function(e,t){for(var r=null,n=0;n<t.length;n++)if(t[n].getAttribute("id")==e){r=t[n];break}return r}},{key:"updateAmountOfExistingItem",value:function(e,t,r){var n=e.querySelector(".cart__content__item__desc__price__amount"),i=e.querySelector(".cart__content__item__desc__price__sum"),a=n.innerText.split(" ").filter((function(e){return e})).at(-1);n.innerHTML="$".concat(r," x ").concat(+t+ +a),i.innerHTML="$".concat(r*(+t+ +a))}},{key:"appendBadge",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;+this.DOMbadge.innerHTML>=9||(+this.DOMbadge.innerHTML+e>9?this.DOMbadge.innerHTML="+9":this.DOMbadge.innerHTML=+this.DOMbadge.innerHTML+e)}},{key:"addItemToLocalStorage",value:function(e,t){var r=e.thumbnailUrl,n=e.title,i=e.unitPrice,a=e.amount;if(null==localStorage.getItem(t))localStorage.setItem(t,JSON.stringify({thumbnailUrl:r,title:n,unitPrice:i,amount:a}));else{var s=JSON.parse(localStorage.getItem(t));s.unitPrice=i,s.amount+=a,localStorage.setItem(t,JSON.stringify(s))}}},{key:"removeItemFromLocalStorage",value:function(e){return localStorage.removeItem(e)}},{key:"loadItemsFromLocalStorage",value:function(){for(var e=0,t=Object.keys(localStorage);e<t.length;e++){var r=t[e],n=JSON.parse(localStorage.getItem(r));console.log(this.currentIds.length),-1===this.currentIds.indexOf(r)&&this.addItem(n,!1)}}},{key:"decreaseBadge",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;+this.DOMbadge.innerHTML<=0||(+this.DOMbadge.innerHTML-e<=0?this.DOMbadge.innerHTML="0":this.DOMbadge.innerHTML=+this.DOMbadge.innerHTML-e)}},{key:"addClickListenerToDOMobject",value:function(e,t){e.addEventListener("click",t)}},{key:"toggleCart",value:function(){this.DOMitems.classList.toggle("reveal")}}],r&&L(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function M(e,t){e.classList.toggle("fullscreen"),t.classList.toggle("toggled")}r(465);var x=document.querySelector(".gallery.default"),k=Object.freeze([r(881),r(643),r(90),r(995)]),O=new m(document.querySelector(".counter")),I=new p(x,k),q=(new y(x.querySelectorAll(".gallery__thumbnails__thumbnail"),I),x.querySelector(".gallery__featured")),T=new w(document.querySelector("#cart"));document.querySelector("#add-to-cart-btn").addEventListener("click",function(e,t,r){var n=function(e,t){var r=e.getFeaturedImgUrl(),n=document.querySelector(".description"),i=n.querySelector(".description__title").innerHTML,a=n.querySelector(".description__prices__current-price").innerHTML.substring(1);return console.log(a),{thumbnailUrl:r,title:i,unitPrice:a,amount:t.getParseIntValue()}}(t,r);e.addItem(n)}.bind(null,T,I,O));var P=document.querySelector(".gallery--fullscreen"),E=new y(P.querySelectorAll(".gallery__thumbnails__thumbnail"),j),j=new p(P,k,E);P.querySelector(".close-btn").addEventListener("click",M.bind(null,P,document.querySelector(".overlay"))),q.addEventListener("click",M.bind(null,P,document.querySelector(".overlay")))})()})();
//# sourceMappingURL=main.js.map